!function(r){"use strict";r(function(){r("body").on("click","#place_order",function(){if(!r("#payment_method_granito-credit-card").is(":checked"))return!0;Granito.encryption_key=wcGranitoParams.encryptionKey;var e,a=r("form.checkout, form#order_review"),o=new Granito.creditCard,c=r("#granito-credit-cart-form",a),n="";return a.addClass("processing"),o.cardHolderName=r("#granito-card-holder-name",a).val(),o.cardExpirationMonth=r("#granito-card-expiry",a).val().replace(/[^\d]/g,"").substr(0,2),o.cardExpirationYear=r("#granito-card-expiry",a).val().replace(/[^\d]/g,"").substr(2),o.cardNumber=r("#granito-card-number",a).val().replace(/[^\d]/g,""),o.cardCVV=r("#granito-card-cvc",a).val(),e=o.fieldErrors(),r.isEmptyObject(e)?(a.removeClass("processing"),r(".woocommerce-error",c).remove(),o.generateHash(function(e){r("input[name=granito_card_hash]",a).remove(),a.append(r('<input name="granito_card_hash" type="hidden" />').val(e)),a.submit()})):(a.removeClass("processing"),r(".woocommerce-error",c).remove(),n+="<ul>",r.each(e,function(r,e){n+="<li>"+e+"</li>"}),n+="</ul>",c.prepend('<div class="woocommerce-error">'+n+"</div>")),!1})})}(jQuery);